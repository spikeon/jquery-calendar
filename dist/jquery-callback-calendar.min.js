/* jQuery Callback Calendar
 * Version: 1.0.13
 * Date: 03/21/2017
 * A simple jQuery UI Widget to create a calendar, and allow you to designate days that have callbacks
 */

'use strict';(function(a){a.widget('spikeon.calendar',{options:{button_style:'btn btn-primary btn-xs',previous_html:a('<i />').addClass('fa fa-chevron-left'),next_html:a('<i />').addClass('fa fa-chevron-right'),title_element:'h1',title_class:'ttl',days:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],month:new Date().getMonth(),year:new Date().getFullYear(),shades:[],callbacks:{},square:!0,day_class:'col-xs-1',day_header_class:'col-xs-1',week_class:'row',week_header_class:'row'},$e:null,$t:null,_create:function _create(){var b=this;this.$t=a('<'+this.options.title_element+' />').addClass(this.options.title_class);var c=a('<button />').addClass(this.options.button_style).addClass('prv').append(this.options.previous_html).click(function(){b.previousMonth()}),e=a('<button />').addClass(this.options.button_style).addClass('nxt').append(this.options.next_html).click(function(){b.nextMonth()}),f=a('<nav />').append(c).append(e);this.$e=a('<div />').addClass('jquery-calendar'),this.element.html(''),this.element.append(this.$t).append(f).append(this.$e),this.element.addClass('jquery-calendar-container'),this._showCurrent()},_setOption:function _setOption(b,c){this.options[b]=c},_destroy:function _destroy(){this.element.html('')},addEvent:function addEvent(b,c){var e;e=b instanceof Date?this._getDayString(b.getMonth(),b.getDate(),b.getFullYear()):b,-1==this.options.shades.indexOf(e)&&(this.options.shades.push(e),this.options.callbacks[e]=c),this._applyShade()},nextMonth:function nextMonth(){11==this.options.month?(this.options.month=0,++this.options.year):++this.options.month,this._showCurrent()},previousMonth:function previousMonth(){0==this.options.month?(this.options.month=11,--this.options.year):--this.options.month,this._showCurrent()},_showCurrent:function _showCurrent(){this._showMonth(this.options.year,this.options.month)},_getDayString:function _getDayString(b,c,e){return this.options.months[b]+'-'+c+'-'+e},_applyShade:function _applyShade(){var b=this,c=!0,e=!1,f=void 0;try{for(var l,g=function _loop(){var p=l.value,q=a('.'+p,b.$e);q.addClass('events'),q.unbind(),q.click(function(){b.options.callbacks[p]()})},h=this.options.shades[Symbol.iterator]();!(c=(l=h.next()).done);c=!0)g()}catch(p){e=!0,f=p}finally{try{!c&&h.return&&h.return()}finally{if(e)throw f}}var n=new Date,o=this._getDayString(n.getMonth(),n.getDate(),n.getFullYear());a('.'+o,this.$e).addClass('today')},_makeSquare:function _makeSquare(){if(this.options.square){var b=a('.grid-cell',this.$e).first().width();a('.row',this.$e).not('.calendar-week-header').height(b)}},_showMonth:function _showMonth(b,c){var e=new Date(b,c,1).getDay(),f=new Date(b,c+1,0).getDate(),g=0==c?new Date(b-1,11,0).getDate():new Date(b,c,0).getDate();this.$e.html(''),this.$t.html(this.options.months[c]+' <span class="year">'+b+'</span>');var h=a('<div />').addClass(this.options.week_header_class).addClass('calendar-week-header'),l=a('<div />').addClass(this.options.week_class).addClass('calendar-week'),n=!0,o=!1,p=void 0;try{for(var r,u,q=this.options.days[Symbol.iterator]();!(n=(r=q.next()).done);n=!0)u=r.value,h.append(a('<div />').addClass(this.options.day_header_class).addClass('grid-cell').append(a('<span />').text(u)))}catch(u){o=!0,p=u}finally{try{!n&&q.return&&q.return()}finally{if(o)throw p}}this.$e.append(h);var s=l.clone(!0,!0),t=1;do{var u=new Date(b,c,t).getDay();if(0==u)s=l.clone(!0,!0);else if(1==t){s=l.clone(!0,!0);for(var w=g-e+1,x=0;x<e;x++)s.append(a('<div />').addClass(this.options.day_class).addClass('grid-cell').addClass('previous-month').append(a('<div />').addClass('number').text(w))),w++}var v=this._getDayString(c,t,b);if(s.append(a('<div />').addClass(this.options.day_class).addClass(v).addClass('grid-cell').append(a('<div />').addClass('number').text(t))),6==u)this.$e.append(s);else if(t==f){var w=1;for(u;6>u;u++)s.append(a('<div />').addClass(this.options.day_class).addClass('grid-cell').addClass('next-month').append(a('<div />').addClass('number').text(w))),w++;this.$e.append(s)}t++}while(t<=f);this._applyShade(),this._makeSquare()}}),a.fn.addEvent=function(b,c){return a(this).hasClass('jquery-calendar-container')?(a(this).calendar('addEvent',b,c),this):this}})(jQuery);
//# sourceMappingURL=jquery-callback-calendar.min.js.map
