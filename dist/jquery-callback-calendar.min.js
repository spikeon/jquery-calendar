/* jQuery Callback Calendar
 * Version: 1.0.12
 * Date: 03/21/2017
 * A simple jQuery UI Widget to create a calendar, and allow you to designate days that have callbacks
 */

'use strict';(function(a){a.widget('spikeon.calendar',{options:{button_style:'btn btn-primary btn-xs',previous_html:a('<i />').addClass('fa fa-chevron-left'),next_html:a('<i />').addClass('fa fa-chevron-right'),title_element:'h1',title_class:'ttl',days:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],month:new Date().getMonth(),year:new Date().getFullYear(),shades:[],callbacks:{},square:!0,day_class:'col-xs-1',day_header_class:'col-xs-1',week_class:'row',week_header_class:'row'},$e:null,$t:null,_create:function _create(){var b=this;this.$t=a('<'+this.options.title_element+' />').addClass(this.options.title_class);var c=a('<button />').addClass(this.options.button_style).addClass('prv').append(this.options.previous_html).click(function(){b.previousMonth}),f=a('<button />').addClass(this.options.button_style).addClass('nxt').append(this.options.next_html).click(function(){b.nextMonth}),g=a('<nav />').append(c).append(f);this.$e=a('<div />').addClass('jquery-calendar'),this.element.html(''),this.element.append(this.$t).append(g).append(this.$e),this.element.addClass('jquery-calendar-container'),this._showCurrent()},_setOption:function _setOption(b,c){this.options[b]=c},_destroy:function _destroy(){this.element.html('')},addEvent:function addEvent(b,c){var f;f=b instanceof Date?this._getDayString(b.getMonth(),b.getDate(),b.getFullYear()):b,-1==this.options.shades.indexOf(f)&&(this.options.shades.push(f),this.options.callbacks[f]=c),this._applyShade()},nextMonth:function nextMonth(){11==this.options.month?(this.options.month=0,++this.options.year):++this.options.month,this._showCurrent()},previousMonth:function previousMonth(){0==this.options.month?(this.options.month=11,--this.options.year):--this.options.month,this._showCurrent()},_showCurrent:function _showCurrent(){this._showMonth(this.options.year,this.options.month)},_getDayString:function _getDayString(b,c,f){return this.options.months[b]+'-'+c+'-'+f},_applyShade:function _applyShade(){var b=this;this.options.shades.forEach(function(g){var h=a('.'+g,b.$e);h.data('date',g),h.addClass('events'),h.unbind(),h.click({c:b},function(l){l.data.c.options.callbacks[a(this).data('date')]()})});var c=new Date,f=this._getDayString(c.getMonth(),c.getDate(),c.getFullYear());a('.'+f,this.$e).addClass('today')},_makeSquare:function _makeSquare(){if(this.options.square){var b=a('.grid-cell',this.$e).first().width();a('.row',this.$e).not('.calendar-week-header').height(b)}},_showMonth:function _showMonth(b,c){var f=new Date(b,c,1).getDay(),g=new Date(b,c+1,0).getDate(),h=0==c?new Date(b-1,11,0).getDate():new Date(b,c,0).getDate();this.$e.html(''),this.$t.html(this.options.months[c]+' <span class="year">'+b+'</span>');var l=a('<div />').addClass(this.options.week_header_class).addClass('calendar-week-header'),n=a('<div />').addClass(this.options.week_class).addClass('calendar-week'),o=!0,p=!1,q=void 0;try{for(var s,v,r=this.options.days[Symbol.iterator]();!(o=(s=r.next()).done);o=!0)v=s.value,l.append(a('<div />').addClass(this.options.day_header_class).addClass('grid-cell').append(a('<span />').text(v)))}catch(v){p=!0,q=v}finally{try{!o&&r.return&&r.return()}finally{if(p)throw q}}this.$e.append(l);var t=n.clone(!0,!0),u=1;do{var v=new Date(b,c,u).getDay();if(0==v)t=n.clone(!0,!0);else if(1==u){t=n.clone(!0,!0);for(var x=h-f+1,z=0;z<f;z++)t.append(a('<div />').addClass(this.options.day_class).addClass('grid-cell').addClass('previous-month').append(a('<div />').text(x))),x++}this._getDayString(c,u,b);if(t.append(a('<div />').addClass(this.options.day_class).addClass('grid-cell').append(a('<div />').text(u))),6==v)this.$e.append(t);else if(u==g){var x=1;for(v;6>v;v++)t.append(a('<div />').addClass(this.options.day_class).addClass('grid-cell').addClass('next-month').append(a('<div />').text(x))),x++;this.$e.append(t)}u++}while(u<=g);this._applyShade(),this._makeSquare()}}),a.fn.addEvent=function(b,c){return a(this).hasClass('jquery-calendar-container')?(a(this).calendar('addEvent',b,c),this):this}})(jQuery);
//# sourceMappingURL=jquery-callback-calendar.min.js.map
