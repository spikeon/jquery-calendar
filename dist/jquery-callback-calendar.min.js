/* jQuery Callback Calendar
 * Version: 1.0.14
 * Date: 03/21/2017
 * A simple jQuery UI Widget to create a calendar, and allow you to designate days that have callbacks
 */

'use strict';var _NumberisInteger=Number.isInteger;(function(a){a.widget('flynndev.calendar',{options:{button_style:'btn btn-primary btn-xs',previous_html:a('<i />').addClass('fa fa-chevron-left'),next_html:a('<i />').addClass('fa fa-chevron-right'),title_element:'h1',title_class:'ttl',days:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],month:new Date().getMonth(),year:new Date().getFullYear(),shades:[],callbacks:{},square:!0,day_class:'col-xs-1',day_header_class:'col-xs-1',week_class:'row',week_header_class:'row'},$e:null,$t:null,_create:function _create(){var b=this;this.$t=a('<'+this.options.title_element+' />').addClass(this.options.title_class);var c=a('<button />').addClass(this.options.button_style).addClass('prv').append(this.options.previous_html).click(function(){b.previousMonth()}),e=a('<button />').addClass(this.options.button_style).addClass('nxt').append(this.options.next_html).click(function(){b.nextMonth()}),f=a('<nav />').append(c).append(e);this.$e=a('<div />').addClass('jquery-calendar'),this.element.html(''),this.element.append(this.$t).append(f).append(this.$e),this.element.addClass('jquery-calendar-container'),this._showCurrent()},_setOption:function _setOption(b,c){this.options[b]=c},_getOption:function _getOption(b){return this.options[b]},_destroy:function _destroy(){this.element.html('')},addEvent:function addEvent(b,c){var e;e=b instanceof Date?this._getDayString(b.getMonth(),b.getDate(),b.getFullYear()):b,-1==this.options.shades.indexOf(e)&&(this.options.shades.push(e),this.options.callbacks[e]=c),this._applyShade()},removeEvent:function removeEvent(b){var c=b instanceof Date?this._getDayString(b.getMonth(),b.getDate(),b.getFullYear()):b;var e=this.options.shades.indexOf(c);this.options.shades.splice(e,1),this.options.callbacks[c]=void 0,a('.events',this.$e).removeClass('events').unbind(),this._applyShade()},nextMonth:function nextMonth(){11==this.options.month?this.setMonth(0,this.options.year+1):this.setMonth(this.options.month+1)},previousMonth:function previousMonth(){0==this.options.month?this.setMonth(11,this.options.year-1):this.setMonth(this.options.month-1)},setMonth:function setMonth(b,c){!_NumberisInteger(b)||11<b||0>b?console.error('Invalid Month'):this._setOption('month',b),c&&(!_NumberisInteger(c)||2100<c||1980>c?console.error('Invalid Year'):this._setOption('year',c)),this._showCurrent()},_showCurrent:function _showCurrent(){this._showMonth(this.options.month,this.options.year)},_getDayString:function _getDayString(b,c,e){return this.options.months[b]+'-'+c+'-'+e},_applyShade:function _applyShade(){var b=this,c=!0,e=!1,f=void 0;try{for(var l,g=function _loop(){var o=l.value,p=a('.'+o,b.$e);p.addClass('events'),p.unbind(),p.click(function(){b.options.callbacks[o]()})},h=this.options.shades[Symbol.iterator]();!(c=(l=h.next()).done);c=!0)g()}catch(o){e=!0,f=o}finally{try{!c&&h.return&&h.return()}finally{if(e)throw f}}var m=new Date,n=this._getDayString(m.getMonth(),m.getDate(),m.getFullYear());a('.'+n,this.$e).addClass('today')},_makeSquare:function _makeSquare(){if(this.options.square){var b=a('.grid-cell',this.$e).first().width();a('.row',this.$e).not('.calendar-week-header').height(b)}},_showMonth:function _showMonth(b,c){var e=new Date(c,b,1).getDay(),f=new Date(c,b+1,0).getDate(),g=0==b?new Date(c-1,11,0).getDate():new Date(c,b,0).getDate();this.$e.html(''),this.$t.html(this.options.months[b]+' <span class="year">'+c+'</span>');var h=a('<div />').addClass(this.options.week_header_class).addClass('calendar-week-header'),l=a('<div />').addClass(this.options.week_class).addClass('calendar-week'),m=!0,n=!1,o=void 0;try{for(var q,t,p=this.options.days[Symbol.iterator]();!(m=(q=p.next()).done);m=!0)t=q.value,h.append(a('<div />').addClass(this.options.day_header_class).addClass('grid-cell').append(a('<span />').text(t)))}catch(t){n=!0,o=t}finally{try{!m&&p.return&&p.return()}finally{if(n)throw o}}this.$e.append(h);var r=l.clone(!0,!0),s=1;do{var t=new Date(c,b,s).getDay();if(0==t)r=l.clone(!0,!0);else if(1==s){r=l.clone(!0,!0);for(var v=g-e+1,w=0;w<e;w++)r.append(a('<div />').addClass(this.options.day_class).addClass('grid-cell').addClass('previous-month').append(a('<div />').addClass('number').text(v))),v++}var u=this._getDayString(b,s,c);if(r.append(a('<div />').addClass(this.options.day_class).addClass(u).addClass('grid-cell').append(a('<div />').addClass('number').text(s))),6==t)this.$e.append(r);else if(s==f){var v=1;for(t;6>t;t++)r.append(a('<div />').addClass(this.options.day_class).addClass('grid-cell').addClass('next-month').append(a('<div />').addClass('number').text(v))),v++;this.$e.append(r)}s++}while(s<=f);this._applyShade(),this._makeSquare()}}),a.fn.addEvent=function(b,c){return a(this).hasClass('jquery-calendar-container')?(a(this).calendar('addEvent',b,c),this):this},a.fn.removeEvent=function(b){return a(this).hasClass('jquery-calendar-container')?(a(this).calendar('removeEvent',b),this):this},a.fn.setMonth=function(b,c){return a(this).hasClass('jquery-calendar-container')?(a(this).calendar('setMonth',b,c),this):this}})(jQuery);
//# sourceMappingURL=jquery-callback-calendar.min.js.map
