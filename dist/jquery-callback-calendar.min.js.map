{"version":3,"sources":["../src/scripts/main.js"],"names":["$","widget","options","button_style","previous_html","addClass","next_html","title_element","title_class","days","months","month","Date","getMonth","year","getFullYear","shades","callbacks","square","$e","$t","_create","append","click","previousMonth","bind","nextMonth","$prv","$nxt","element","html","$nav","_showCurrent","_setOption","key","value","_destroy","addEvent","day","_getDayString","getDate","indexOf","daystring","push","callback","_applyShade","_showMonth","m","d","y","forEach","dayclass","that","$day","data","unbind","e","c","today","_makeSquare","first","width","not","height","getDay","i","length","$header","$rowtemplate","clone","lastDayOfLastMonth","firstDayOfMonth","j","$row","k","lastDateOfMonth","dow","fn","hasClass","calendar","jQuery"],"mappings":"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","file":"jquery-callback-calendar.min.js","sourcesContent":["(function ( $ ) {\n\n\t$.widget( \"spikeon.calendar\", {\n\t\toptions: {\n\t\t\tbutton_style:   'btn btn-primary btn-xs',\n\t\t\tprevious_html:  $('<i />').addClass('fa fa-chevron-left'),\n\t\t\tnext_html:      $('<i />').addClass('fa fa-chevron-right'),\n\t\t\ttitle_element:  'h1',\n\t\t\ttitle_class:    'ttl',\n\t\t\tdays:           ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n\t\t\tmonths:         ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\t\t\tmonth:          new Date().getMonth(),\n\t\t\tyear:           new Date().getFullYear(),\n\t\t\tshades:         [],\n\t\t\tcallbacks:      {},\n\t\t\tsquare:         true\n\t\t},\n\n\t\t$e : null,\n\t\t$t : null,\n\n\t\t_create: function() {\n\n\t\t\tthis.$t = $(`<${this.options.title_element} />`).addClass(this.options.title_class);\n\n\t\t\tlet $prv = $(\"<button />\").addClass(this.options.button_style).addClass('prv').append(this.options.previous_html).click(this.previousMonth.bind(this));\n\t\t\tlet $nxt = $(\"<button />\").addClass(this.options.button_style).addClass('nxt').append(this.options.next_html).click(this.nextMonth.bind(this));\n\t\t\tlet $nav = $(\"<nav />\").append($prv).append($nxt);\n\n\t\t\tthis.$e = $(\"<div />\").addClass('jquery-calendar');\n\n\t\t\tthis.element.html(\"\");\n\t\t\tthis.element.append(this.$t).append($nav).append(this.$e);\n\n\t\t\tthis.element.addClass('jquery-calendar-container');\n\n\t\t\tthis._showCurrent();\n\n\t\t},\n\n\t\t_setOption: function( key, value ) {\n\t\t\tthis.options[ key ] = value;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tthis.element.html( \"\" );\n\t\t},\n\n\t\taddEvent : function(day, callback){\n\n\t\t\tlet daystring;\n\n\t\t\tif(day instanceof Date){\n\t\t\t\tdaystring = this._getDayString(day.getMonth(), day.getDate(), day.getFullYear());\n\t\t\t}\n\t\t\telse daystring = day;\n\n\t\t\tif(this.options.shades.indexOf(daystring) == -1) {\n\t\t\t\tthis.options.shades.push(daystring);\n\t\t\t\tthis.options.callbacks[daystring] = callback;\n\t\t\t}\n\t\t\tthis._applyShade();\n\t\t},\n\n\t\tnextMonth : function() {\n\t\t\tif ( this.options.month == 11 ) {\n\t\t\t\tthis.options.month = 0;\n\t\t\t\tthis.options.year = this.options.year + 1;\n\t\t\t}\n\t\t\telse this.options.month = this.options.month + 1;\n\n\t\t\tthis._showCurrent();\n\t\t},\n\n\t\tpreviousMonth : function() {\n\t\t\tif ( this.options.month == 0 ) {\n\t\t\t\tthis.options.month = 11;\n\t\t\t\tthis.options.year = this.options.year - 1;\n\t\t\t}\n\t\t\telse this.options.month = this.options.month - 1;\n\n\t\t\tthis._showCurrent();\n\t\t},\n\n\t\t_showCurrent : function(){\n\t\t\tthis._showMonth(this.options.year, this.options.month);\n\t\t},\n\n\t\t_getDayString : function(m,d,y){\n\t\t\treturn `${this.options.months[m]}-${d}-${y}`;\n\t\t},\n\n\t\t_applyShade : function(){\n\n\t\t\tlet that = this;\n\n\t\t\tthis.options.shades.forEach(function(dayclass){\n\n\t\t\t\tlet $day = $(`.${dayclass}`, that.$e);\n\n\t\t\t\t$day.data('date', dayclass);\n\t\t\t\t$day.addClass('events');\n\t\t\t\t$day.unbind();\n\n\t\t\t\t$day.click({ 'c' : that},function(e){\n\t\t\t\t\te.data.c.options.callbacks[$(this).data('date')]();\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\tlet d = new Date();\n\n\t\t\tlet today = this._getDayString(d.getMonth(), d.getDate(), d.getFullYear());\n\t\t\t$(`.${today}`, this.$e).addClass('today');\n\t\t},\n\n\t\t_makeSquare : function(){\n\t\t\tif(!this.options.square) return;\n\t\t\tlet width = $('.grid-cell', this.$e).first().width();\n\t\t\t$('.row', this.$e).not('.calendar-week-header').height(width);\n\t\t},\n\n\t\t_showMonth : function(y, m){\n\t\t\t\n\t\t\tlet\n\t\t\t\tfirstDayOfMonth = new Date(y, m, 1).getDay(),\n\t\t\t\tlastDateOfMonth =  new Date(y, m+1, 0).getDate(),\n\t\t\t\tlastDayOfLastMonth = m == 0 ? new Date(y-1, 11, 0).getDate() : new Date(y, m, 0).getDate();\n\n\t\t\tthis.$e.html(\"\");\n\n\t\t\tthis.$t.html(this.options.months[m] + ' <span class=\"year\">' + y + '</span>');\n\n\t\t\tlet $header = $('<div class=\"row calendar-week-header\"></div>');\n\t\t\tlet $rowtemplate = $('<div class=\"row calendar-week\"></div>');\n\n\t\t\t// Write the header of the days of the week\n\t\t\tfor(let i=0; i < this.options.days.length;i++) $header.append('<div class=\"col-xs-1 grid-cell\"><span>' + this.options.days[i] + '</span></div>');\n\n\t\t\tthis.$e.append($header);\n\n\t\t\tlet $row = $rowtemplate.clone(true, true);\n\n\t\t\t// Write the days\n\t\t\tlet i = 1;\n\t\t\tdo {\n\n\t\t\t\tlet dow = new Date(y, m, i).getDay();\n\n\t\t\t\t// If Sunday, start new row\n\t\t\t\tif ( dow == 0 ) $row = $rowtemplate.clone(true, true);\n\n\t\t\t\t// If not Sunday but first day of the month\n\t\t\t\t// it will write the last days from the previous month\n\t\t\t\telse if ( i == 1 ) {\n\t\t\t\t\t$row = $rowtemplate.clone(true, true);\n\n\t\t\t\t\tlet k = lastDayOfLastMonth - firstDayOfMonth+1;\n\t\t\t\t\tfor(let j=0; j < firstDayOfMonth; j++) {\n\t\t\t\t\t\t$row.append('<div class=\"col-xs-1 grid-cell previous-month\"><div class=\"number\">' + k + '</div></div>');\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet dayclass = this.options.months[m] + '-' + i + '-' + y;\n\n\t\t\t\t// Write the current day in the loop\n\t\t\t\t$row.append('<div class=\"col-xs-1 grid-cell ' + dayclass + '\"><div class=\"number\">' + i + '</div></div>');\n\n\t\t\t\t// If Saturday, closes the row\n\t\t\t\tif ( dow == 6 ) this.$e.append($row);\n\n\t\t\t\t// If not Saturday, but last day of the selected month\n\t\t\t\t// it will write the next few days from the next month\n\t\t\t\telse if ( i == lastDateOfMonth ) {\n\t\t\t\t\tlet k=1;\n\t\t\t\t\tfor(dow; dow < 6; dow++) {\n\t\t\t\t\t\t$row.append('<div class=\"col-xs-1 grid-cell next-month\"><div class=\"number\">' + k + '</div></div>');\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t\tthis.$e.append($row);\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t} while(i <= lastDateOfMonth);\n\n\t\t\tthis._applyShade();\n\n\t\t\tthis._makeSquare();\n\t\t}\n\n\t});\n\n\t$.fn.addEvent = function(day, callback){\n\t\tif(!$(this).hasClass('jquery-calendar-container')) return this;\n\t\t$(this).calendar(\"addEvent\", day, callback);\n\t\treturn this;\n\t};\n\n\n})(jQuery);\n"]}