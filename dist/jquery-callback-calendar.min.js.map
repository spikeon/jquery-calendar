{"version":3,"sources":["../src/scripts/main.js"],"names":["$","widget","options","button_style","previous_html","addClass","next_html","title_element","title_class","days","months","month","Date","getMonth","year","getFullYear","shades","callbacks","$e","$t","_create","append","click","previousMonth","bind","nextMonth","$prv","$nxt","element","html","$nav","_showCurrent","_setOption","key","value","_destroy","addEvent","day","_getDayString","getDate","indexOf","daystring","push","callback","_applyShade","_showMonth","m","d","y","forEach","dayclass","that","$day","data","unbind","e","c","today","getDay","i","length","$header","$rowtemplate","clone","lastDayOfLastMonth","firstDayOfMonth","j","$row","k","lastDateOfMonth","dow","fn","hasClass","calendar","jQuery"],"mappings":"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","file":"jquery-callback-calendar.min.js","sourcesContent":["(function ( $ ) {\n\n\t$.widget( \"spikeon.calendar\", {\n\t\toptions: {\n\t\t\tbutton_style:   'btn btn-primary btn-xs',\n\t\t\tprevious_html:  $('<i />').addClass('fa fa-chevron-left'),\n\t\t\tnext_html:      $('<i />').addClass('fa fa-chevron-right'),\n\t\t\ttitle_element:  'h1',\n\t\t\ttitle_class:    'ttl',\n\t\t\tdays:           ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n\t\t\tmonths:         ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\t\t\tmonth:          new Date().getMonth(),\n\t\t\tyear:           new Date().getFullYear(),\n\t\t\tshades:         [],\n\t\t\tcallbacks:      {}\n\t\t},\n\n\t\t$e : null,\n\t\t$t : null,\n\n\t\t_create: function() {\n\n\t\t\tthis.$t = $(`<${this.options.title_element} />`).addClass(this.options.title_class);\n\n\t\t\tlet $prv = $(\"<button />\").addClass(this.options.button_style).addClass('prv').append(this.options.previous_html).click(this.previousMonth.bind(this));\n\t\t\tlet $nxt = $(\"<button />\").addClass(this.options.button_style).addClass('nxt').append(this.options.next_html).click(this.nextMonth.bind(this));\n\t\t\tlet $nav = $(\"<nav />\").append($prv).append($nxt);\n\n\t\t\tthis.$e = $(\"<div />\").addClass('jquery-calendar');\n\n\t\t\tthis.element.html(\"\");\n\t\t\tthis.element.append(this.$t).append($nav).append(this.$e);\n\n\t\t\tthis.element.addClass('jquery-calendar-container');\n\n\t\t\tthis._showCurrent();\n\n\t\t},\n\n\t\t_setOption: function( key, value ) {\n\t\t\tthis.options[ key ] = value;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tthis.element.html( \"\" );\n\t\t},\n\n\t\taddEvent : function(day, callback){\n\n\t\t\tlet daystring;\n\n\t\t\tif(day instanceof Date){\n\t\t\t\tdaystring = this._getDayString(day.getMonth(), day.getDate(), day.getFullYear());\n\t\t\t}\n\t\t\telse daystring = day;\n\n\t\t\tif(this.options.shades.indexOf(daystring) == -1) {\n\t\t\t\tthis.options.shades.push(daystring);\n\t\t\t\tthis.options.callbacks[daystring] = callback;\n\t\t\t}\n\t\t\tthis._applyShade();\n\t\t},\n\n\t\tnextMonth : function() {\n\t\t\tif ( this.options.month == 11 ) {\n\t\t\t\tthis.options.month = 0;\n\t\t\t\tthis.options.year = this.options.year + 1;\n\t\t\t}\n\t\t\telse this.options.month = this.options.month + 1;\n\n\t\t\tthis._showCurrent();\n\t\t},\n\n\t\tpreviousMonth : function() {\n\t\t\tif ( this.options.month == 0 ) {\n\t\t\t\tthis.options.month = 11;\n\t\t\t\tthis.options.year = this.options.year - 1;\n\t\t\t}\n\t\t\telse this.options.month = this.options.month - 1;\n\n\t\t\tthis._showCurrent();\n\t\t},\n\n\t\t_showCurrent : function(){\n\t\t\tthis._showMonth(this.options.year, this.options.month);\n\t\t},\n\n\t\t_getDayString : function(m,d,y){\n\t\t\treturn `${this.options.months[m]}-${d}-${y}`;\n\t\t},\n\n\t\t_applyShade : function(){\n\n\t\t\tlet that = this;\n\n\t\t\tthis.options.shades.forEach(function(dayclass){\n\n\t\t\t\tlet $day = $(`.${dayclass}`, that.$e);\n\n\t\t\t\t$day.data('date', dayclass);\n\t\t\t\t$day.addClass('events');\n\t\t\t\t$day.unbind();\n\n\t\t\t\t$day.click({ 'c' : that},function(e){\n\t\t\t\t\te.data.c.options.callbacks[$(this).data('date')]();\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\tlet d = new Date();\n\n\t\t\tlet today = this._getDayString(d.getMonth(), d.getDate(), d.getFullYear());\n\t\t\t$(`.${today}`, this.$e).addClass('today');\n\t\t},\n\n\t\t_showMonth : function(y, m){\n\t\t\t\n\t\t\tlet\n\t\t\t\tfirstDayOfMonth = new Date(y, m, 1).getDay(),\n\t\t\t\tlastDateOfMonth =  new Date(y, m+1, 0).getDate(),\n\t\t\t\tlastDayOfLastMonth = m == 0 ? new Date(y-1, 11, 0).getDate() : new Date(y, m, 0).getDate();\n\n\t\t\tthis.$e.html(\"\");\n\n\t\t\tthis.$t.html(this.options.months[m] + ' <span class=\"year\">' + y + '</span>');\n\n\t\t\tlet $header = $('<div class=\"row calendar-week-header\"></div>');\n\t\t\tlet $rowtemplate = $('<div class=\"row calendar-week\"></div>');\n\n\t\t\t// Write the header of the days of the week\n\t\t\tfor(let i=0; i < this.options.days.length;i++) $header.append('<div class=\"col-xs-1 grid-cell\"><span>' + this.options.days[i] + '</span></div>');\n\n\t\t\tthis.$e.append($header);\n\n\t\t\tlet $row = $rowtemplate.clone(true, true);\n\n\t\t\t// Write the days\n\t\t\tlet i = 1;\n\t\t\tdo {\n\n\t\t\t\tlet dow = new Date(y, m, i).getDay();\n\n\t\t\t\t// If Sunday, start new row\n\t\t\t\tif ( dow == 0 ) $row = $rowtemplate.clone(true, true);\n\n\t\t\t\t// If not Sunday but first day of the month\n\t\t\t\t// it will write the last days from the previous month\n\t\t\t\telse if ( i == 1 ) {\n\t\t\t\t\t$row = $rowtemplate.clone(true, true);\n\n\t\t\t\t\tlet k = lastDayOfLastMonth - firstDayOfMonth+1;\n\t\t\t\t\tfor(let j=0; j < firstDayOfMonth; j++) {\n\t\t\t\t\t\t$row.append('<div class=\"col-xs-1 grid-cell previous-month\"><div class=\"number\">' + k + '</div></div>');\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet dayclass = this.options.months[m] + '-' + i + '-' + y;\n\n\t\t\t\t// Write the current day in the loop\n\t\t\t\t$row.append('<div class=\"col-xs-1 grid-cell ' + dayclass + '\"><div class=\"number\">' + i + '</div></div>');\n\n\t\t\t\t// If Saturday, closes the row\n\t\t\t\tif ( dow == 6 ) this.$e.append($row);\n\n\t\t\t\t// If not Saturday, but last day of the selected month\n\t\t\t\t// it will write the next few days from the next month\n\t\t\t\telse if ( i == lastDateOfMonth ) {\n\t\t\t\t\tlet k=1;\n\t\t\t\t\tfor(dow; dow < 6; dow++) {\n\t\t\t\t\t\t$row.append('<div class=\"col-xs-1 grid-cell next-month\"><div class=\"number\">' + k + '</div></div>');\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t\tthis.$e.append($row);\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t} while(i <= lastDateOfMonth);\n\n\t\t\tthis._applyShade();\n\n\t\t}\n\n\t});\n\n\t$.fn.addEvent = function(day, callback){\n\t\tif(!$(this).hasClass('jquery-calendar-container')) return this;\n\t\t$(this).calendar(\"addEvent\", day, callback);\n\t\treturn this;\n\t};\n\n\n})(jQuery);\n"]}