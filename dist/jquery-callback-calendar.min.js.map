{"version":3,"sources":["../src/scripts/main.js"],"names":["$","widget","options","button_style","previous_html","addClass","next_html","title_element","title_class","days","months","month","Date","getMonth","year","getFullYear","shades","callbacks","square","day_class","day_header_class","week_class","week_header_class","$e","$t","_create","append","click","previousMonth","nextMonth","$prv","$nxt","element","html","$nav","_showCurrent","_setOption","key","value","_destroy","addEvent","day","_getDayString","getDate","indexOf","daystring","push","callback","_applyShade","_showMonth","m","d","y","$day","unbind","today","_makeSquare","first","width","not","height","getDay","$header","text","$rowtemplate","clone","i","lastDayOfLastMonth","firstDayOfMonth","j","$row","k","dayclass","lastDateOfMonth","dow","fn","hasClass","calendar","jQuery"],"mappings":"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","file":"jquery-callback-calendar.min.js","sourcesContent":["(function ($) {\n\n\t$.widget(\"spikeon.calendar\", {\n\t\toptions: {\n\t\t\tbutton_style: 'btn btn-primary btn-xs',\n\t\t\tprevious_html: $('<i />').addClass('fa fa-chevron-left'),\n\t\t\tnext_html: $('<i />').addClass('fa fa-chevron-right'),\n\t\t\ttitle_element: 'h1',\n\t\t\ttitle_class: 'ttl',\n\t\t\tdays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n\t\t\tmonths: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\t\t\tmonth: new Date().getMonth(),\n\t\t\tyear: new Date().getFullYear(),\n\t\t\tshades: [],\n\t\t\tcallbacks: {},\n\t\t\tsquare: true,\n\t\t\tday_class: 'col-xs-1',\n\t\t\tday_header_class: 'col-xs-1',\n\t\t\tweek_class: 'row',\n\t\t\tweek_header_class: 'row',\n\t\t},\n\n\t\t$e: null,\n\t\t$t: null,\n\n\t\t_create: function () {\n\n\t\t\tthis.$t = $(`<${this.options.title_element} />`).addClass(this.options.title_class);\n\n\t\t\tlet $prv = $(\"<button />\").addClass(this.options.button_style).addClass('prv').append(this.options.previous_html).click(() => { this.previousMonth(); });\n\t\t\tlet $nxt = $(\"<button />\").addClass(this.options.button_style).addClass('nxt').append(this.options.next_html).click(() => { this.nextMonth(); });\n\t\t\tlet $nav = $(\"<nav />\").append($prv).append($nxt);\n\n\t\t\tthis.$e = $(\"<div />\").addClass('jquery-calendar');\n\n\t\t\tthis.element.html(\"\");\n\t\t\tthis.element.append(this.$t).append($nav).append(this.$e);\n\n\t\t\tthis.element.addClass('jquery-calendar-container');\n\n\t\t\tthis._showCurrent();\n\n\t\t},\n\n\t\t_setOption: function (key, value) {\n\t\t\tthis.options[key] = value;\n\t\t},\n\n\t\t_destroy: function () {\n\t\t\tthis.element.html(\"\");\n\t\t},\n\n\t\taddEvent: function (day, callback) {\n\n\t\t\tlet daystring;\n\n\t\t\tif (day instanceof Date) {\n\t\t\t\tdaystring = this._getDayString(day.getMonth(), day.getDate(), day.getFullYear());\n\t\t\t}\n\t\t\telse daystring = day;\n\n\t\t\tif (this.options.shades.indexOf(daystring) == -1) {\n\t\t\t\tthis.options.shades.push(daystring);\n\t\t\t\tthis.options.callbacks[daystring] = callback;\n\t\t\t}\n\t\t\tthis._applyShade();\n\t\t},\n\n\t\tnextMonth: function () {\n\t\t\tif (this.options.month == 11) {\n\t\t\t\tthis.options.month = 0;\n\t\t\t\tthis.options.year = this.options.year + 1;\n\t\t\t}\n\t\t\telse this.options.month = this.options.month + 1;\n\n\t\t\tthis._showCurrent();\n\t\t},\n\n\t\tpreviousMonth: function () {\n\t\t\tif (this.options.month == 0) {\n\t\t\t\tthis.options.month = 11;\n\t\t\t\tthis.options.year = this.options.year - 1;\n\t\t\t}\n\t\t\telse this.options.month = this.options.month - 1;\n\n\t\t\tthis._showCurrent();\n\t\t},\n\n\t\t_showCurrent: function () {\n\t\t\tthis._showMonth(this.options.year, this.options.month);\n\t\t},\n\n\t\t_getDayString: function (m, d, y) {\n\t\t\treturn `${this.options.months[m]}-${d}-${y}`;\n\t\t},\n\n\t\t_applyShade: function () {\n\n\t\t\tfor(let day of this.options.shades){\n\n\t\t\t\tlet $day = $(`.${day}`, this.$e);\n\n\t\t\t\t$day.addClass('events');\n\t\t\t\t$day.unbind();\n\n\t\t\t\t$day.click( () => { this.options.callbacks[day](); });\n\n\t\t\t}\n\n\t\t\tlet d = new Date();\n\n\t\t\tlet today = this._getDayString(d.getMonth(), d.getDate(), d.getFullYear());\n\t\t\t$(`.${today}`, this.$e).addClass('today');\n\t\t},\n\n\t\t_makeSquare: function () {\n\t\t\tif (!this.options.square) return;\n\t\t\tlet width = $('.grid-cell', this.$e).first().width();\n\t\t\t$('.row', this.$e).not('.calendar-week-header').height(width);\n\t\t},\n\n\n\n\t\t_showMonth: function (y, m) {\n\n\t\t\tlet\n\t\t\t\tfirstDayOfMonth = new Date(y, m, 1).getDay(),\n\t\t\t\tlastDateOfMonth = new Date(y, m + 1, 0).getDate(),\n\t\t\t\tlastDayOfLastMonth = m == 0 ? new Date(y - 1, 11, 0).getDate() : new Date(y, m, 0).getDate();\n\n\t\t\tthis.$e.html(\"\");\n\n\t\t\tthis.$t.html(this.options.months[m] + ' <span class=\"year\">' + y + '</span>');\n\n\t\t\tlet $header = $('<div />').addClass(this.options.week_header_class).addClass('calendar-week-header');\n\n\t\t\tlet $rowtemplate = $('<div />').addClass(this.options.week_class).addClass('calendar-week');\n\n\t\t\tfor (let day of this.options.days) $header.append($('<div />').addClass(this.options.day_header_class).addClass('grid-cell').append($('<span />').text(day)));\n\n\n\t\t\tthis.$e.append($header);\n\n\t\t\tlet $row = $rowtemplate.clone(true, true);\n\n\t\t\tlet i = 1;\n\t\t\tdo {\n\t\t\t\tlet dow = new Date(y, m, i).getDay();\n\n\t\t\t\tif (dow == 0) $row = $rowtemplate.clone(true, true);\n\t\t\t\telse if (i == 1) {\n\t\t\t\t\t$row = $rowtemplate.clone(true, true);\n\n\t\t\t\t\tlet k = lastDayOfLastMonth - firstDayOfMonth + 1;\n\t\t\t\t\tfor (let j = 0; j < firstDayOfMonth; j++) {\n\t\t\t\t\t\t$row.append($('<div />').addClass(this.options.day_class).addClass('grid-cell').addClass('previous-month').append($('<div />').addClass('number').text(k)));\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet dayclass = this._getDayString(m, i, y);\n\n\t\t\t\t$row.append($('<div />').addClass(this.options.day_class).addClass(dayclass).addClass('grid-cell').append($('<div />').addClass('number').text(i)));\n\n\t\t\t\tif (dow == 6) this.$e.append($row);\n\t\t\t\telse if (i == lastDateOfMonth) {\n\t\t\t\t\tlet k = 1;\n\t\t\t\t\tfor (dow; dow < 6; dow++) {\n\t\t\t\t\t\t$row.append($('<div />').addClass(this.options.day_class).addClass('grid-cell').addClass('next-month').append($('<div />').addClass('number').text(k)));\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t\tthis.$e.append($row);\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t} while (i <= lastDateOfMonth);\n\n\t\t\tthis._applyShade();\n\n\t\t\tthis._makeSquare();\n\t\t}\n\n\t});\n\n\t$.fn.addEvent = function (day, callback) {\n\t\tif (!$(this).hasClass('jquery-calendar-container')) return this;\n\t\t$(this).calendar(\"addEvent\", day, callback);\n\t\treturn this;\n\t};\n\n\n})(jQuery);\n"]}